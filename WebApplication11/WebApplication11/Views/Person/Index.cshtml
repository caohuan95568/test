@model IEnumerable<WebApplication11.Models.Person>
@using WebApplication11.Helpers
@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>

<p>
   
</p>
<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Name)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Surname)
        </th>
        <th><div class="pull-right">
    @Html.NoEncodeActionLink("<span class='glyphicon glyphicon-plus'></span>", "Add new Person", "Create", "Person", routeValues: null, htmlAttributes: new { @class = "btn btn-primary" })
</div></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.Name)
            @{Html.RenderAction("Edit", "Person", new { id = item.Id });}
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Surname)
        </td>
        <td>
            <div class="pull-right">
                @Html.NoEncodeActionLink("<span class='glyphicon glyphicon-pencil'></span>", "Edit", "Edit", "Person", routeValues: new { id = item.Id }, htmlAttributes: new { data_modal = "", @class = "btn btn-default" })
                &nbsp;
                @Html.NoEncodeActionLink("<span class='glyphicon glyphicon-search'></span>", "Details", "Details", "Person", routeValues: new { id = item.Id }, htmlAttributes: new { data_modal = "", @class = "btn btn-default" })
                &nbsp;
                @Html.NoEncodeActionLink("<span class='glyphicon glyphicon-trash'></span>", "Delete", "Delete", "Person", routeValues: new { id = item.Id }, htmlAttributes: new { data_modal = "", @class = "btn btn-danger" })
            </div>
        </td>
    </tr>

}

</table>
    ddddd<strong id="ss"></strong>
<script src="~/Scripts/jquery-1.10.2.min.js"></script>
<script src="~/Scripts/jquery.signalR-2.2.2.min.js"></script>

<script src="~/signalr/hubs"></script>
<script>
    $(function () {

        var conuterHub = $.connection.counterHub;
        alert(conuterHub);
        //$.connection.hub.start.done(function(){
        //    alert("ss");
        //});
        counterHub.client.UpdateCount = function (counter) {
            alert("ss");
            $("#ss").text(counter);
        }

    })
</script>


